<head>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js"></script>
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css" />
	<title>Hey Hey Hey</title>
</head>
<body>
	<div id="top">
		<div class="top-left">
			<div class="pad-left">
				<p class="date"><span id="weekday"></span> <span id="month-date"></span></p>
				<p class="weather-widget"><i class="fa fa-gear"> </i> <span id="weather"></span></p>
				<div class="settings">
					<p class="x">x</p>
					<p>City: <input class="enter entercity" type="text" /></p>
					<p>Country: <input class="enter entercountry" type="text" /></p>
					<p>Please use ISO 3166 country codes. <br/>Find your country code here: <a href="https://www.iso.org/obp/ui/#search">iso.org</a></p>
					<ul>
						<li>
							<input type="radio" id="cel" name="unit" value="cel">
							<label for="cel">&deg;C</label>
						</li>
						<li>
							<input type="radio" id="far" name="unit" value="far">
							<label for="far">&deg;F</label>
						</li>
					</ul>
					<button id="save">save</button>
				</div>
				<p id="btc-price">BTC Price: </p>
			</div>
		</div>
		<div class="top-right">
	    <div class="pad-right">
			<a href="" id="news-title-link"><p><span id="news-title"></span></p></a>
			<p><span id="score-3"></span></p>
			<p><span id="next-post-news">next post &rarr;</span></p>
		</div>
		</div>
	</div>

	<div id="bottom">
		<div class="container-rect">
			<div id="search">
				<input id="search-bar" type="text" placeholder="search" />
				<div id="links">
					<p class="reddit-links">
						<a href=""><div class="link category reddit-cat">theme</div></a>
						<a id="reddit-link-1" href="http://reddit.com/r/unixporn"><span class="link reddit reddit1">unixp</span></a>
						<a id="reddit-link-2" href="http://reddit.com/r/androidthemes"><span class="link reddit reddit2">androidthemes</span></a>
						<a id="reddit-link-3" href="http://reddit.com/r/desktops"><span class="link reddit reddit3">desktops</span></a>
						<a id="reddit-link-4" href="http://reddit.com/r/windows10"><span class="link reddit reddit4">windows10</span></a>
						<a id="reddit-link-5" href="http://reddit.com/r/rainmeter"><span class="link reddit reddit5">rainmeter</span></a>
						<a id="reddit-link-6" href="http://boards.4chan.org/wg/"><span class="link reddit reddit5">/wg/</span></a>
					</p>
					<p class="games-links">
						<a href=""><div class="link category games-cat">games</div></a>
						<a id="games-link-1" href="https://youtube.com"><span class="link games games1">youtube</span></a>
						<a id="games-link-2" href="https://twitch.tv"><span class="link games games1">twitch</span></a>
						<a id="games-link-3" href="http://reddit.com/r/competitiveoverwatch"><span class="link games games2">compow</span></a>
						<a id="games-link-4" href="http://reddit.com/r/overwatchtmz"><span class="link games games3">owtmz</span></a>
						<a id="games-link-5" href="https://www.overbuff.com/players/pc/Edgedancer-11368?mode=competitive"><span class="link games games4">edgedancer</span></a>
						<a id="games-link-6" href="https://www.overbuff.com/players/pc/finesse-11849?mode=competitive"><span class="link games games5">finesse</span></a>
					</p>
					<p class="code-links">
						<a href=""><div class="link category code-cat">coding</div></a>
						<a id="code-link-1" href="https://github.com/NeedsAdjustment?direction=desc&sort=updated&tab=stars"><span class="link code code1">github</span></a>
						<a id="code-link-2" href="https://forum.xda-developers.com/mi-a1/"><span class="link code code2">xdadev</span></a>
						<a id="code-link-3" href="https://drive.google.com"><span class="link code code3">drive</span></a>
						<a id="code-link-4" href="https://www.producthunt.com/"><span class="link code code4">producthunt</span></a>
						<a id="code-link-5" href="http://reddit.com/r/android"><span class="link code code4">android</span></a>
						<a id="code-link-6" href="http://reddit.com/r/windows10"><span class="link code code4">win10</span></a>
						<a id="code-link-7" href="http://reddit.com/saved"><span class="link code code4">saved</span></a>
					</p>
				</div>
			</div>
		</div>
	</div>
<style>
	@import url('https://fonts.googleapis.com/css?family=Montserrat');
	body {
		font-family: 'Montserrat';
		margin: 0;
		background: url("background.gif") no-repeat center center fixed;
		background-size: cover;
		-moz-background-size: cover;
		-webkit-background-size: cover;
	}
	p {
		font-family: 'Montserrat';
		color: #3298FE;
		font-size: 15px;
	}
	a {
		color: #FF2851;
		text-decoration: none;
	}
	input[type=text] {
		color: #3ECF8E;
		font-family: 'Montserrat';
		font-size: 15px;
	}
	#links {
		padding-left: 5%;
		margin-top: 3em;
		margin-bottom: 3em;
	}
	.code-cat a {
		color: #3ECF8E !important;
	}
	.code-cat {
		border-right: 2px solid #3ECF8E;
	}
	.code {
		cursor: pointer;
		transition: color 0.5s ease;
	}
	.code:hover {
		color: #C8FFE0 !important;
	}

	.games-cat a {
		color: #F7A623 !important;
	}
	.games-cat {
		border-right: 2px solid #F7A623;
		color: #F7A623 !important;
	}
	.games {
		cursor: pointer;
		transition: color 0.5s ease;
	}
	.games:hover {
		color: #FFF7D3 !important;
	}
	.news {
		cursor: pointer;
		transition: color 0.5s ease;
	}
	.news:hover {
		color: #3298FE !important;
	}
	.reddit-cat a {
		color: #FF2851 !important;
	}
	.reddit-cat {
		border-right: 2px solid #FF2851;
		color: #FF2851 !important;
	}
	.reddit {
		cursor: pointer;
		transition: color 0.5s ease;
	}
	.reddit:hover {
		color: #FAC0F2 !important;
	}
	.category {
		padding-right: 14px;
		width: 50px;
		float: left;
	}
	.link {
		margin-right: 14px;
		color: #F7F7F7;
	}
	.link.news a {
		color: #F7F7F7;
	}
	.link.news a:hover {
		color: #3298FE !important;
	}
	#search-bar {
    	width: 90%;
    	border-bottom: 2px solid #F7F7F7;
		border-top: 0;
		border-left: 0;
		border-right: 0;
		color: #F7F7F7;
    	padding: 10px;
		margin-left: 5%;
		margin-top: 2%;
		background-color: transparent;
		font-size: 15px;
		text-align: center;
	}
	::-webkit-input-placeholder {
		font-family: 'Montserrat';
		color: #F7F7F7;
		opacity: 1;
	}
	:-moz-placeholder {
		font-family: 'Montserrat';
		color: #F7F7F7;
		opacity: 1;
	}
	::-moz-placeholder {
		font-family: 'Montserrat';
		color: #F7F7F7;
		opacity: 1;
	}
	:-ms-input-placeholder {
		font-family: 'Montserrat';
		color: #F7F7F7;
		opacity: 1;
	}
	::-ms-input-placeholder {
		font-family: 'Montserrat';
		color: #F7F7F7;
		opacity: 1;
	}
	.fa-gear {
		cursor: pointer;
	}
	.enter {
		border: 0;
		border-bottom: 2px solid #3298FE;
		background-color: transparent;
	}
	#news-title {
		color: #3ECF8E;
	}
	#score-3 {
		color: #3298FE;
	}
	#save {
		border: 2px solid #3298FE;
		cursor: pointer;
		font-family: 'Montserrat';
		font-size: 15px;
	}
	.x {
		position: absolute;
		color: #3298FE;
		right: 12px;
		top: 5px;
		padding: 0;
		margin: 0;
		cursor: pointer;
	}
	.date {
		color: #3ECF8E;
	}
	.weather-widget {
		color: #3298FE;
	}
	#btc-price {
		color: #F7F7F7;
	}
	#top {
		background: #191919;
		height: 130px;
		width: calc(100% - 20px);
		margin: auto;
		margin-top: 10px;
		border-radius: 8px;
		box-shadow: 0px 2px 2px;
	}
	#bottom {
		height: 69%;
		width: 100%;
		padding-top: 60px;
	}
	.container-rect {
		background: #191919;
		height: auto;
		width: 700px;
		border-radius: 8px;
		border: 2px solid #191919;
		position: relative;
		top: 15%;
		margin: 0 auto;
		box-shadow: 0px 2px 2px;
	}
	#next-post-news {
		cursor: pointer;
		color: #F7F7F7;
	}
	h1, h2, h3, p {
		font-family: 'Montserrat';
	}
	.title {
		text-transform: uppercase;
		letter-spacing: 2px;
		color: white;
		text-align: center;
	}
	#searchbar {
		background-color: transparent;
		border: 0;
		width: 90%;
		text-align: center;
	}
	.settings {
		width: 300px;
		background-color: #1f1f1f;
		border: 2px solid #3298FE;
		position: absolute;
		top: 80px;
		padding: 1em;
	}
	.pad-left {
		padding-left: 1em;
	}
	.pad-right {
		padding-left: 1em;
	}
	.top-left {
		width: 16%;
		border-right: 2px solid #3298FE;
		float: left;
		height: 100%;
		text-align: right;
		padding-right: 15px;
	}
	.top-right {
    	width: calc(84% - 17px);
    	float: right;
		height: 100%;
		padding-top: 3px;
	}
	hr {
		border: 0;
		height: 2px;
		background-image: linear-gradient(to right, rgba(227, 131, 127, 0), rgba(227, 131, 127, 0.75), rgba(227, 131, 127, 0));
	}
	/* radio buttons */
	ul {
		list-style: none;
		margin: 0;
		padding: 0;
		margin-bottom: 1em;
		text-align: center;
	}

	label[for="far"], label[for="cel"] {
		cursor: pointer;
		border: 2px solid rgb(227, 131, 127);
		padding: 4px;
	}

	ul li {
		display: inline;
		margin-right: 30px;
	}

	ul li input[type=radio]{
		visibility: hidden;
		float: left;
		display: none;
	}

	ul li .check::before {
		position: absolute;
		content: '';
		border-radius: 100%;
		height: 15px;
		width: 15px;
		top: 5px;
		left: 5px;
		margin: auto;
		transition: background 0.25s linear;
		-webkit-transition: background 0.25s linear;
	}

	input[type=radio]:not(:checked) ~ .check {
		border: 5px solid #3298FE;
	}

	input[type=radio]:not(:checked) ~ .check::before{
		background: #3298FE;
	}

	input[type=radio]:not(:checked) ~ label{
		color: #3298FE;
	}

	input[type=radio]:checked ~ .check {
		border: 5px solid #FF2851;
	}

	input[type=radio]:checked ~ .check::before{
		background: #FF2851;
	}

	input[type=radio]:checked ~ label{
		color: #FF2851;
		border: 2px solid #FF2851;
	}
</style>

<script>
$(document).ready(function(){

$(".container-rect").addClass("animated bounceInUp");

$(".reddit-links").mouseover(function(){
	$('.reddit-cat').css("border-right", "2px solid #FF2851");
});
$(".reddit-links").mouseout(function(){
	$('.reddit-cat').css("border-right", "2px solid #FF2851");
});
$(".games-links").mouseover(function(){
	$('.games-cat').css("border-right", "2px solid #e37fad");
});
$(".games-links").mouseout(function(){
	$('.games-cat').css("border-right", "2px solid #e37fad");
});

$("#search-bar").keypress(function(event) {
var searchQuery = $("#search-bar").val();
  if ( event.which == 13 ) {
    window.location.href = 'http://www.google.com/search?q=' + searchQuery;
  }
});
$(".settings").hide();
$(".fa-gear").click(function(){
	$(".settings").slideToggle();
});
$(".x").click(function(){
	$(".settings").slideToggle();
});

if (localStorage.getItem("locCity") == null) {
	localStorage.setItem("locCity", "palmerston north")
}

if (localStorage.getItem("locCountry") == null) {
	localStorage.setItem("locCountry", "nz")
}
if (localStorage.getItem("unit") == null) {
	localStorage.setItem("unit", "&deg;C")
	$("#cel").attr('checked', 'checked');
} else if(localStorage.getItem("unit") == "&deg;C") {
	$("#cel").attr('checked', 'checked');
} else if(localStorage.getItem("unit") == "&deg;F") {
	$("#far").attr('checked', 'checked');
}

var baseURL = "https://api.openweathermap.org/data/2.5/weather?q=";
var city = localStorage.getItem('locCity');
var country = localStorage.getItem('locCountry')
var key = "&APPID=15dac795069e9f6ef5b3c4c435136247";
var apiurl = baseURL + city + "," + country + key;
var unit = localStorage.getItem('unit');

$(".entercity").attr("value", city);
$(".entercountry").attr("value", country);

function getWeather() {
	var baseURL = "https://api.openweathermap.org/data/2.5/weather?q=";
	var city = localStorage.getItem('locCity');
	var country = localStorage.getItem('locCountry')
	var key = "&APPID=15dac795069e9f6ef5b3c4c435136247";
	var apiurl = baseURL + city + "," + country + key;
	var unit = localStorage.getItem('unit');

	$.getJSON(apiurl,function(result){
    	console.log(result);
		var temp = result.main.temp;
		if (localStorage.getItem("unit") == "&deg;C") {
			temp = temp - 273.15;
			temp = Math.round(temp);
		} else if (localStorage.getItem("unit") == "&deg;F") {
			temp = temp - 273.15;
			temp = temp * 1.8;
			temp = temp + 32;
			temp = Math.round(temp);
		}

		$("#weather").empty().append(result.name + ": " + temp + unit + ", " + result.weather[0].description);
	});
}
getWeather();

$("#save").click(function(){
	if ($('.entercity').length > 0 && $('.entercity').val() != '') {
		localStorage.setItem("locCity", $(".entercity").val());
	}
	if ($('.entercountry').length > 0 && $('.entercountry').val() != '') {
		localStorage.setItem("locCountry", $(".entercountry").val());
	}
	if ($('input[id=far]').is(":checked")) {
		localStorage.setItem("unit", "&deg;F");
	}
	if ($('input[id=cel]').is(":checked")) {
		localStorage.setItem("unit", "&deg;C");
	}
	getWeather();
	$(".settings").slideToggle();
});

var date = new Date();
var weekdays = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
var months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]
var weekday = weekdays[date.getDay()];
var month = date.getMonth();
var monthday = date.getDate();
var year = date.getYear();

$('#weekday').html(weekday);

switch (monthday) {
	case 1:
	case 21:
	case 31:
    	var affix = "st";
		$('#month-date').html(months[month] + " " + monthday + "<sup>" + affix + "</sup>" + ", " + (year+1900));
    	break;
	case 2:
	case 22:
    	var affix = "nd";
		$('#month-date').html(months[month] + " " + monthday + "<sup>" + affix + "</sup>" + ", " + (year+1900));
    	break;
	case 3:
	case 23:
     	var affix = "rd";
		$('#month-date').html(months[month] + " " + monthday + "<sup>" + affix + "</sup>" + ", " + (year+1900));
   	break;
	case 4:
	case 5:
	case 6:
	case 7:
	case 8:
	case 9:
	case 10:
	case 11:
	case 12:
	case 13:
	case 14:
	case 15:
	case 16:
	case 17:
	case 18:
	case 19:
	case 20:
	case 24:
	case 25:
	case 26:
	case 27:
	case 28:
	case 29:
	case 30:
   	var affix = "th";
		$('#month-date').html(months[month] + " " + monthday + "<sup>" + affix + "</sup>" + ", " + (year+1900));
}

function btcprice() {
var currency = "USD";
var apiurl = 'https://api.coindesk.com/v1/bpi/currentprice/' + currency + '.json';

$.ajax({
  type: "GET",
  url: apiurl,
  async: false,
  dataType: 'json',
  success: function(data){
    var price = data["bpi"][currency]["rate_float"];
	  var priceRounded = Math.round(price);
	  $("#btc-price").append("$" + priceRounded + " " + currency);
    },
  error: function(errorMessage){}
});
}
btcprice();

var subreddit = "News";
var apiurl = 'https://www.reddit.com/r/' + subreddit + '/.json?';
var postnum = 1;

function updatepost() {
    $.ajax({
      type: "GET",
      url: apiurl,
      async: false,
      dataType: 'json',
      success: function(data){
        var title = data["data"]["children"][postnum]["data"]["title"];
		var score = data["data"]["children"][postnum]["data"]["score"];
		  	$("#news-title").empty().prepend(title);
		  	$("#score-3").empty().append('<i class="fa fa-heart"> </i>' + ' ' + score);
		  	$("#news-title-link").attr("href","https://reddit.com" + data["data"]["children"][postnum]["data"]["permalink"]);
      	},
      	error: function(errorMessage){}
    }); // END ajax call
} // End Update Post function
updatepost();

$("#next-post-news").click(function(){
	postnum = postnum+2;
	updatepost();
});

});
</script>
</body>